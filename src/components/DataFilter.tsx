"use client";
import { Filters } from "../types/power";

interface DataFilterProps {
  filters: Filters;
  selectedDate: string;
  setSelectedDate: (month: string) => void;
  selectedType: string;
  setSelectedType: (type: string) => void;
}
export default function DataFilter({
  filters,
  selectedDate,
  setSelectedDate,
  selectedType,
  setSelectedType,
}: DataFilterProps) {
  const handleMonthChange = (month: string) => {
    setSelectedDate(month);
    setSelectedType("month");
  };
  const handleYearChange = (year: string) => {
    setSelectedDate(year);
    setSelectedType("year");
  };

  return (
    <div className="flex justify-center mb-6">
      <div className="flex space-x-4">
        <select
          className="px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-black text-black dark:text-white"
          value={selectedType === "month" ? selectedDate : ""}
          onChange={(e) => handleMonthChange(e.target.value)}
        >
          <option value="" disabled>
            월별 사용량 보기
          </option>
          {filters.month.map((i) => (
            <option key={i} value={i}>
              {i}
            </option>
          ))}
        </select>

        {/* 연도 선택 */}
        <select
          className="px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-black text-black dark:text-white"
          value={selectedType === "year" ? selectedDate : ""}
          onChange={(e) => handleYearChange(e.target.value)}
        >
          <option value="" disabled>
            연도별 사용량 보기
          </option>
          {filters.year.map((i) => (
            <option key={i} value={i}>
              {i}
            </option>
          ))}
        </select>
      </div>
    </div>
  );
}
